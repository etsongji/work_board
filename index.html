<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>교무부장 업무 & 휴가 관리 대시보드</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
        }
        
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 30px;
            background: white;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .header h1 {
            font-size: 24px;
            font-weight: 600;
            color: #333;
        }
        
        .header .year {
            color: #666;
            font-size: 16px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .main-nav {
            display: flex;
            gap: 0;
            margin-bottom: 30px;
        }
        
        .nav-tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            background: #f8f9fa;
            border: 1px solid #e0e0e0;
            cursor: pointer;
            font-size: 16px;
            color: #666;
            transition: all 0.2s;
        }
        
        .nav-tab:first-child {
            border-radius: 8px 0 0 8px;
        }
        
        .nav-tab:last-child {
            border-radius: 0 8px 8px 0;
            border-left: none;
        }
        
        .nav-tab.active {
            background: #4a9d9c;
            color: white;
            border-color: #4a9d9c;
        }
        
        .content {
            display: none;
        }
        
        .content.active {
            display: block;
        }
        
        .card {
            background: white;
            border-radius: 8px;
            padding: 25px;
            margin-bottom: 20px;
            border: 1px solid #e0e0e0;
        }
        
        .progress-section h3 {
            font-size: 18px;
            margin-bottom: 20px;
            color: #333;
        }
        
        .progress-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .progress-bar {
            flex: 1;
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: #4a9d9c;
            transition: width 0.3s ease;
            border-radius: 4px;
        }
        
        .progress-text {
            font-size: 16px;
            font-weight: 600;
            color: #333;
            min-width: 50px;
        }
        
        .month-nav {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin-bottom: 30px;
            justify-content: center;
        }
        
        .month-tab {
            padding: 8px 16px;
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            color: #666;
            transition: all 0.2s;
        }
        
        .month-tab.active {
            background: #4a9d9c;
            color: white;
            border-color: #4a9d9c;
        }
        
        .task-section {
            margin-bottom: 30px;
        }
        
        .section-title {
            font-size: 16px;
            font-weight: 600;
            color: #333;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .task-item {
            background: #f8f9fa;
            border-radius: 6px;
            padding: 15px;
            margin-bottom: 10px;
            border: 1px solid #e9ecef;
        }
        
        .task-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .task-title {
            font-weight: 500;
            color: #333;
            font-size: 15px;
        }
        
        .task-badge {
            background: #e3f2fd;
            color: #1976d2;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 12px;
            margin-left: 8px;
        }
        
        .task-actions {
            display: flex;
            gap: 5px;
        }
        
        .task-btn {
            width: 28px;
            height: 28px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .edit-btn {
            background: #fff3cd;
            color: #856404;
        }
        
        .delete-btn {
            background: #f8d7da;
            color: #721c24;
        }
        
        .copy-btn {
            background: #d1ecf1;
            color: #0c5460;
        }
        
        .task-desc {
            color: #666;
            font-size: 13px;
            margin-bottom: 10px;
            font-style: italic;
        }
        
        .checkbox-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 5px;
        }
        
        .checkbox-item input[type="checkbox"] {
            width: 16px;
            height: 16px;
        }
        
        .checkbox-item label {
            font-size: 14px;
            color: #333;
            cursor: pointer;
        }
        
        .add-btn {
            width: 100%;
            padding: 15px;
            background: #4a9d9c;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            cursor: pointer;
            margin-top: 20px;
            transition: background 0.2s;
        }
        
        .add-btn:hover {
            background: #3a8180;
        }
        
        /* Leave management styles */
        .leave-nav {
            display: flex;
            gap: 0;
            margin-bottom: 20px;
        }
        
        .leave-tab {
            flex: 1;
            padding: 12px;
            text-align: center;
            background: #f8f9fa;
            border: 1px solid #e0e0e0;
            cursor: pointer;
            font-size: 14px;
            color: #666;
        }
        
        .leave-tab:first-child {
            border-radius: 6px 0 0 6px;
        }
        
        .leave-tab:last-child {
            border-radius: 0 6px 6px 0;
            border-left: none;
        }
        
        .leave-tab.active {
            background: #4a9d9c;
            color: white;
            border-color: #4a9d9c;
        }
        
        .leave-content {
            display: none;
        }
        
        .leave-content.active {
            display: block;
        }
        
        .leave-item {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 6px;
            padding: 15px;
            margin-bottom: 10px;
        }
        
        .leave-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .leave-title {
            font-weight: 500;
            color: #333;
        }
        
        .leave-type {
            background: #e8f5e8;
            color: #28a745;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 12px;
            margin-left: 8px;
        }
        
        .absence-type {
            background: #fff3cd;
            color: #856404;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 12px;
            margin-left: 8px;
        }
        
        .leave-details {
            color: #666;
            font-size: 13px;
        }
        
        .leave-details p {
            margin-bottom: 4px;
        }
        
        .regulation-box {
            background: #f8f9fa;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .regulation-title {
            font-size: 16px;
            font-weight: 600;
            color: #dc3545;
            margin-bottom: 15px;
        }
        
        .regulation-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        .regulation-section h4 {
            font-size: 14px;
            margin-bottom: 10px;
            font-weight: 600;
        }
        
        .regulation-section.official {
            color: #dc3545;
        }
        
        .regulation-section.petition {
            color: #007bff;
        }
        
        .regulation-list {
            list-style: none;
            padding: 0;
        }
        
        .regulation-list li {
            padding: 3px 0;
            font-size: 13px;
            color: #666;
        }
        
        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        
        .modal.active {
            display: flex;
        }
        
        .modal-content {
            background: white;
            border-radius: 8px;
            padding: 25px;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .modal-title {
            font-size: 18px;
            font-weight: 600;
            color: #333;
        }
        
        .close-btn {
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
            color: #666;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #333;
            font-size: 14px;
        }
        
        .form-input, .form-select {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
        }
        
        .form-input:focus, .form-select:focus {
            outline: none;
            border-color: #4a9d9c;
        }
        
        .checkbox-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-top: 10px;
        }
        
        .checkbox-option {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .checkbox-option input[type="checkbox"] {
            margin: 0;
        }
        
        .checkbox-option label {
            font-size: 13px;
        }
        
        .btn-group {
            display: flex;
            gap: 10px;
            margin-top: 25px;
        }
        
        .btn {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 4px;
            font-size: 14px;
            cursor: pointer;
            font-weight: 500;
        }
        
        .btn-primary {
            background: #4a9d9c;
            color: white;
        }
        
        .btn-primary:hover {
            background: #3a8180;
        }
        
        .btn-secondary {
            background: #6c757d;
            color: white;
        }
        
        .btn-secondary:hover {
            background: #5a6268;
        }
        
        .status-message {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 12px 20px;
            background: #d4edda;
            color: #155724;
            border-radius: 4px;
            z-index: 1001;
            transform: translateX(300px);
            transition: transform 0.3s;
        }
        
        .status-message.show {
            transform: translateX(0);
        }
        
        .status-message.error {
            background: #f8d7da;
            color: #721c24;
        }
        
        @media (max-width: 768px) {
            .header {
                padding: 15px 20px;
            }
            
            .header h1 {
                font-size: 20px;
            }
            
            .container {
                padding: 15px;
            }
            
            .month-nav {
                justify-content: flex-start;
            }
            
            .regulation-grid {
                grid-template-columns: 1fr;
            }
            
            .checkbox-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>교무부장 업무 & 휴가 관리 대시보드</h1>
        <div class="year">2025년</div>
    </div>

    <div class="container">
        <div class="main-nav">
            <div class="nav-tab active" onclick="switchMainTab('tasks')">업무관리</div>
            <div class="nav-tab" onclick="switchMainTab('leave')">휴가관리</div>
        </div>

        <!-- Tasks Content -->
        <div id="tasks-content" class="content active">
            <div class="card progress-section">
                <h3>연간 진척률</h3>
                <div class="progress-container">
                    <div class="progress-bar">
                        <div class="progress-fill" id="annual-progress" style="width: 2%"></div>
                    </div>
                    <div class="progress-text" id="annual-percent">2%</div>
                </div>
            </div>

            <div class="month-nav">
                <div class="month-tab" onclick="switchMonth(1)">1월</div>
                <div class="month-tab" onclick="switchMonth(2)">2월</div>
                <div class="month-tab" onclick="switchMonth(3)">3월</div>
                <div class="month-tab" onclick="switchMonth(4)">4월</div>
                <div class="month-tab" onclick="switchMonth(5)">5월</div>
                <div class="month-tab" onclick="switchMonth(6)">6월</div>
                <div class="month-tab" onclick="switchMonth(7)">7월</div>
                <div class="month-tab active" onclick="switchMonth(8)">8월</div>
                <div class="month-tab" onclick="switchMonth(9)">9월</div>
                <div class="month-tab" onclick="switchMonth(10)">10월</div>
                <div class="month-tab" onclick="switchMonth(11)">11월</div>
                <div class="month-tab" onclick="switchMonth(12)">12월</div>
            </div>

            <div class="card progress-section">
                <h3 id="monthly-title">8월 진척률</h3>
                <div class="progress-container">
                    <div class="progress-bar">
                        <div class="progress-fill" id="monthly-progress" style="width: 25%"></div>
                    </div>
                    <div class="progress-text" id="monthly-percent">25%</div>
                </div>
            </div>

            <div class="card">
                <div id="task-list">
                    <div class="task-section">
                        <div class="section-title">정기 업무</div>
                        
                        <div class="task-item">
                            <div class="task-header">
                                <div>
                                    <span class="task-title">주간업무일지</span>
                                    <span class="task-badge">정기업무</span>
                                </div>
                                <div class="task-actions">
                                    <button class="task-btn edit-btn" title="편집">✏️</button>
                                    <button class="task-btn delete-btn" title="삭제">🗑️</button>
                                    <button class="task-btn copy-btn" title="복사">📋</button>
                                </div>
                            </div>
                            <div class="task-desc">매주 작성하는 업무 보고서</div>
                            <div class="checkbox-list">
                                <div class="checkbox-item">
                                    <input type="checkbox" id="task1-1" checked>
                                    <label for="task1-1">1주차</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="task1-2" checked>
                                    <label for="task1-2">2주차</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="task1-3" checked>
                                    <label for="task1-3">3주차</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="task1-4">
                                    <label for="task1-4">4주차</label>
                                </div>
                            </div>
                        </div>

                        <div class="task-item">
                            <div class="task-header">
                                <div>
                                    <span class="task-title">기간제교원 계약</span>
                                    <span class="task-badge">프로젝트업무</span>
                                </div>
                                <div class="task-actions">
                                    <button class="task-btn edit-btn" title="편집">✏️</button>
                                    <button class="task-btn delete-btn" title="삭제">🗑️</button>
                                    <button class="task-btn copy-btn" title="복사">📋</button>
                                </div>
                            </div>
                            <div class="task-desc">필요시 진행하는 기간제교원 채용 업무</div>
                            <div class="checkbox-list">
                                <div class="checkbox-item">
                                    <input type="checkbox" id="task2-1" checked>
                                    <label for="task2-1">공고번호 채번</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="task2-2" checked>
                                    <label for="task2-2">공고 내부결재</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="task2-3" checked>
                                    <label for="task2-3">교육청 게시판 공고</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="task2-4">
                                    <label for="task2-4">채용 계약 완료</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="task2-5">
                                    <label for="task2-5">계약 후 문서 수합 및 내부결재</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="task2-6">
                                    <label for="task2-6">성범죄조회 문서 출력 합본</label>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" id="task2-7">
                                    <label for="task2-7">교감선생님 제출</label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="task-section">
                        <div class="section-title">시간강사 수당 지급</div>
                        <div class="task-item">
                            <div class="task-header">
                                <div>
                                    <span class="task-title">매월 말 시간강사 수당 처리</span>
                                    <span class="task-badge">정기업무</span>
                                </div>
                                <div class="task-actions">
                                    <button class="task-btn edit-btn" title="편집">✏️</button>
                                    <button class="task-btn delete-btn" title="삭제">🗑️</button>
                                    <button class="task-btn copy-btn" title="복사">📋</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <button class="add-btn" onclick="showTaskModal()">+ 업무 추가</button>
            </div>
        </div>

        <!-- Leave Content -->
        <div id="leave-content" class="content">
            <div class="leave-nav">
                <div class="leave-tab active" onclick="switchLeaveTab('vacation')">휴가 관리</div>
                <div class="leave-tab" onclick="switchLeaveTab('absence')">휴직 관리</div>
            </div>

            <!-- Vacation Content -->
            <div id="vacation-content" class="leave-content active">
                <div class="card">
                    <h3>휴가 관리</h3>
                    <div id="vacation-list">
                        <div class="leave-item">
                            <div class="leave-header">
                                <div>
                                    <span class="leave-title">이정은</span>
                                    <span class="leave-type">특별휴가</span>
                                </div>
                                <div class="task-actions">
                                    <button class="task-btn edit-btn" title="편집">✏️</button>
                                    <button class="task-btn delete-btn" title="삭제">🗑️</button>
                                </div>
                            </div>
                            <div class="leave-details">
                                <p><strong>기간:</strong> 2025-09-02 ~ 2025-09-06 (5일)</p>
                                <p><strong>사유:</strong> 가족돌봄</p>
                            </div>
                        </div>
                    </div>
                    <button class="add-btn" onclick="showVacationModal()">+ 휴가 신청 추가</button>
                </div>
            </div>

            <!-- Absence Content -->
            <div id="absence-content" class="leave-content">
                <div class="regulation-box">
                    <div class="regulation-title">📋 교육공무원 휴직 유형 (교육공무원법 제44조)</div>
                    <div class="regulation-grid">
                        <div class="regulation-section official">
                            <h4>🔴 직권휴직 (5종)</h4>
                            <ul class="regulation-list">
                                <li>• 질병휴직 (신체·정신상 장애)</li>
                                <li>• 병역휴직 (병역복무)</li>
                                <li>• 생사불명휴직 (천재지변 등)</li>
                                <li>• 법정의무수행휴직</li>
                                <li>• 노조전임자휴직</li>
                            </ul>
                        </div>
                        <div class="regulation-section petition">
                            <h4>🔵 청원휴직 (9종)</h4>
                            <ul class="regulation-list">
                                <li>• 유학휴직 (해외유학·연구)</li>
                                <li>• 고용휴직 (국제기구 등)</li>
                                <li>• 육아휴직 (만8세이하 자녀)</li>
                                <li>• 입양휴직 (만19세미만)</li>
                                <li>• 불임·난임휴직</li>
                                <li>• 연수휴직 (지정기관 연수)</li>
                                <li>• 가족돌봄휴직</li>
                                <li>• 동반휴직 (배우자 해외근무)</li>
                                <li>• 자율연수휴직 (연구년)</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>휴직 관리</h3>
                    <div id="absence-list">
                        <div class="leave-item">
                            <div class="leave-header">
                                <div>
                                    <span class="leave-title">윤서연</span>
                                    <span class="absence-type">육아휴직</span>
                                </div>
                                <div class="task-actions">
                                    <button class="task-btn edit-btn" title="편집">✏️</button>
                                    <button class="task-btn delete-btn" title="삭제">🗑️</button>
                                </div>
                            </div>
                            <div class="leave-details">
                                <p><strong>휴직기간:</strong> 2025-11-01 ~ 2026-01-31</p>
                                <p><strong>사유:</strong> 만 8세 이하 자녀 양육을 위한 육아휴직</p>
                            </div>
                        </div>
                    </div>
                    <button class="add-btn" onclick="showAbsenceModal()">+ 휴직 신청 추가</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Task Modal -->
    <div id="task-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">업무 추가</div>
                <button class="close-btn" onclick="closeModal('task-modal')">×</button>
            </div>
            <form onsubmit="return addTask(event)">
                <div class="form-group">
                    <label class="form-label">업무명 *</label>
                    <input type="text" id="task-name" class="form-input" required>
                </div>
                <div class="form-group">
                    <label class="form-label">업무 유형 *</label>
                    <select id="task-type" class="form-select" required>
                        <option value="">선택하세요</option>
                        <option value="정기업무">정기업무</option>
                        <option value="특별업무">특별업무</option>
                        <option value="준비업무">준비업무</option>
                        <option value="프로젝트업무">프로젝트업무</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">설명</label>
                    <textarea id="task-desc" class="form-input" rows="3"></textarea>
                </div>
                <div class="form-group">
                    <label class="form-label">적용 월 *</label>
                    <div class="checkbox-grid">
                        <div class="checkbox-option"><input type="checkbox" id="m1" value="1"><label for="m1">1월</label></div>
                        <div class="checkbox-option"><input type="checkbox" id="m2" value="2"><label for="m2">2월</label></div>
                        <div class="checkbox-option"><input type="checkbox" id="m3" value="3"><label for="m3">3월</label></div>
                        <div class="checkbox-option"><input type="checkbox" id="m4" value="4"><label for="m4">4월</label></div>
                        <div class="checkbox-option"><input type="checkbox" id="m5" value="5"><label for="m5">5월</label></div>
                        <div class="checkbox-option"><input type="checkbox" id="m6" value="6"><label for="m6">6월</label></div>
                        <div class="checkbox-option"><input type="checkbox" id="m7" value="7"><label for="m7">7월</label></div>
                        <div class="checkbox-option"><input type="checkbox" id="m8" value="8"><label for="m8">8월</label></div>
                        <div class="checkbox-option"><input type="checkbox" id="m9" value="9"><label for="m9">9월</label></div>
                        <div class="checkbox-option"><input type="checkbox" id="m10" value="10"><label for="m10">10월</label></div>
                        <div class="checkbox-option"><input type="checkbox" id="m11" value="11"><label for="m11">11월</label></div>
                        <div class="checkbox-option"><input type="checkbox" id="m12" value="12"><label for="m12">12월</label></div>
                    </div>
                </div>
                <div class="btn-group">
                    <button type="button" class="btn btn-secondary" onclick="closeModal('task-modal')">취소</button>
                    <button type="submit" class="btn btn-primary">저장</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Vacation Modal -->
    <div id="vacation-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">휴가 신청 추가</div>
                <button class="close-btn" onclick="closeModal('vacation-modal')">×</button>
            </div>
            <form onsubmit="return addVacation(event)">
                <div class="form-group">
                    <label class="form-label">교사명 *</label>
                    <input type="text" id="vacation-teacher" class="form-input" required>
                </div>
                <div class="form-group">
                    <label class="form-label">휴가 유형 *</label>
                    <select id="vacation-type" class="form-select" required>
                        <option value="">선택하세요</option>
                        <option value="연가">연가</option>
                        <option value="병가">병가</option>
                        <option value="특별휴가">특별휴가</option>
                        <option value="경조휴가">경조휴가</option>
                        <option value="공가">공가</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">시작일 *</label>
                    <input type="date" id="vacation-start" class="form-input" required>
                </div>
                <div class="form-group">
                    <label class="form-label">종료일 *</label>
                    <input type="date" id="vacation-end" class="form-input" required>
                </div>
                <div class="form-group">
                    <label class="form-label">사유</label>
                    <textarea id="vacation-reason" class="form-input" rows="3"></textarea>
                </div>
                <div class="btn-group">
                    <button type="button" class="btn btn-secondary" onclick="closeModal('vacation-modal')">취소</button>
                    <button type="submit" class="btn btn-primary">저장</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Absence Modal -->
    <div id="absence-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">휴직 신청 추가</div>
                <button class="close-btn" onclick="closeModal('absence-modal')">×</button>
            </div>
            <form onsubmit="return addAbsence(event)">
                <div class="form-group">
                    <label class="form-label">교사명 *</label>
                    <input type="text" id="absence-teacher" class="form-input" required>
                </div>
                <div class="form-group">
                    <label class="form-label">휴직 유형 * (교육공무원법 제44조)</label>
                    <select id="absence-type" class="form-select" required>
                        <option value="">선택하세요</option>
                        <optgroup label="직권휴직">
                            <option value="질병휴직">질병휴직 (신체·정신상 장애)</option>
                            <option value="병역휴직">병역휴직 (병역복무)</option>
                            <option value="생사불명휴직">생사불명휴직 (천재지변 등)</option>
                            <option value="법정의무수행휴직">법정의무수행휴직</option>
                            <option value="노조전임자휴직">노조전임자휴직</option>
                        </optgroup>
                        <optgroup label="청원휴직">
                            <option value="유학휴직">유학휴직 (해외유학·연구)</option>
                            <option value="고용휴직">고용휴직 (국제기구 등)</option>
                            <option value="육아휴직">육아휴직 (만8세 이하 자녀)</option>
                            <option value="입양휴직">입양휴직 (만19세 미만)</option>
                            <option value="불임·난임휴직">불임·난임휴직</option>
                            <option value="연수휴직">연수휴직 (지정기관 연수)</option>
                            <option value="가족돌봄휴직">가족돌봄휴직</option>
                            <option value="동반휴직">동반휴직 (배우자 해외근무)</option>
                            <option value="자율연수휴직">자율연수휴직 (연구년)</option>
                        </optgroup>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">시작일 *</label>
                    <input type="date" id="absence-start" class="form-input" required>
                </div>
                <div class="form-group">
                    <label class="form-label">종료일 (예정)</label>
                    <input type="date" id="absence-end" class="form-input">
                </div>
                <div class="form-group">
                    <label class="form-label">사유 *</label>
                    <textarea id="absence-reason" class="form-input" rows="3" required></textarea>
                </div>
                <div class="btn-group">
                    <button type="button" class="btn btn-secondary" onclick="closeModal('absence-modal')">취소</button>
                    <button type="submit" class="btn btn-primary">저장</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Application data
        const appData = {
            tasks: {},
            vacations: [],
            absences: []
        };
        
        let currentMonth = 8;
        
        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            updateProgress();
            setupEventListeners();
        });
        
        function setupEventListeners() {
            // Add event listeners for checkboxes
            document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    updateProgress();
                    showMessage('진척률이 업데이트되었습니다.');
                });
            });
        }
        
        function switchMainTab(tab) {
            // Update tab buttons
            document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
            event.target.classList.add('active');
            
            // Show/hide content
            document.querySelectorAll('.content').forEach(c => c.classList.remove('active'));
            document.getElementById(tab + '-content').classList.add('active');
        }
        
        function switchLeaveTab(tab) {
            // Update tab buttons
            document.querySelectorAll('.leave-tab').forEach(t => t.classList.remove('active'));
            event.target.classList.add('active');
            
            // Show/hide content
            document.querySelectorAll('.leave-content').forEach(c => c.classList.remove('active'));
            document.getElementById(tab + '-content').classList.add('active');
        }
        
        function switchMonth(month) {
            currentMonth = month;
            
            // Update month tabs
            document.querySelectorAll('.month-tab').forEach(t => t.classList.remove('active'));
            event.target.classList.add('active');
            
            // Update title
            document.getElementById('monthly-title').textContent = month + '월 진척률';
            
            updateProgress();
        }
        
        function updateProgress() {
            // Count checked checkboxes
            const allCheckboxes = document.querySelectorAll('#task-list input[type="checkbox"]');
            const checkedCheckboxes = document.querySelectorAll('#task-list input[type="checkbox"]:checked');
            
            const totalTasks = allCheckboxes.length;
            const completedTasks = checkedCheckboxes.length;
            
            // Update monthly progress
            const monthlyPercent = totalTasks > 0 ? Math.round((completedTasks / totalTasks) * 100) : 0;
            document.getElementById('monthly-progress').style.width = monthlyPercent + '%';
            document.getElementById('monthly-percent').textContent = monthlyPercent + '%';
            
            // Update annual progress (simplified calculation)
            const annualPercent = Math.floor(monthlyPercent / 12);
            document.getElementById('annual-progress').style.width = annualPercent + '%';
            document.getElementById('annual-percent').textContent = annualPercent + '%';
        }
        
        function showTaskModal() {
            document.getElementById('task-modal').classList.add('active');
        }
        
        function showVacationModal() {
            document.getElementById('vacation-modal').classList.add('active');
        }
        
        function showAbsenceModal() {
            document.getElementById('absence-modal').classList.add('active');
        }
        
        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }
        
        function addTask(event) {
            event.preventDefault();
            
            const taskName = document.getElementById('task-name').value;
            const taskType = document.getElementById('task-type').value;
            
            if (!taskName || !taskType) {
                alert('필수 항목을 입력해주세요.');
                return false;
            }
            
            // Check if at least one month is selected
            const selectedMonths = [];
            for (let i = 1; i <= 12; i++) {
                if (document.getElementById('m' + i).checked) {
                    selectedMonths.push(i);
                }
            }
            
            if (selectedMonths.length === 0) {
                alert('최소 하나의 월을 선택해주세요.');
                return false;
            }
            
            closeModal('task-modal');
            showMessage('업무가 추가되었습니다.');
            
            // Reset form
            document.getElementById('task-name').value = '';
            document.getElementById('task-type').value = '';
            document.getElementById('task-desc').value = '';
            for (let i = 1; i <= 12; i++) {
                document.getElementById('m' + i).checked = false;
            }
            
            return false;
        }
        
        function addVacation(event) {
            event.preventDefault();
            
            const teacher = document.getElementById('vacation-teacher').value;
            const type = document.getElementById('vacation-type').value;
            const start = document.getElementById('vacation-start').value;
            const end = document.getElementById('vacation-end').value;
            
            if (!teacher || !type || !start || !end) {
                alert('필수 항목을 입력해주세요.');
                return false;
            }
            
            closeModal('vacation-modal');
            showMessage('휴가 신청이 추가되었습니다.');
            
            // Reset form
            document.getElementById('vacation-teacher').value = '';
            document.getElementById('vacation-type').value = '';
            document.getElementById('vacation-start').value = '';
            document.getElementById('vacation-end').value = '';
            document.getElementById('vacation-reason').value = '';
            
            return false;
        }
        
        function addAbsence(event) {
            event.preventDefault();
            
            const teacher = document.getElementById('absence-teacher').value;
            const type = document.getElementById('absence-type').value;
            const start = document.getElementById('absence-start').value;
            const reason = document.getElementById('absence-reason').value;
            
            if (!teacher || !type || !start || !reason) {
                alert('필수 항목을 입력해주세요.');
                return false;
            }
            
            closeModal('absence-modal');
            showMessage('휴직 신청이 추가되었습니다.');
            
            // Reset form
            document.getElementById('absence-teacher').value = '';
            document.getElementById('absence-type').value = '';
            document.getElementById('absence-start').value = '';
            document.getElementById('absence-end').value = '';
            document.getElementById('absence-reason').value = '';
            
            return false;
        }
        
        function showMessage(message, isError = false) {
            let msgEl = document.getElementById('status-msg');
            if (!msgEl) {
                msgEl = document.createElement('div');
                msgEl.id = 'status-msg';
                msgEl.className = 'status-message';
                document.body.appendChild(msgEl);
            }
            
            msgEl.textContent = message;
            msgEl.className = 'status-message' + (isError ? ' error' : '');
            msgEl.classList.add('show');
            
            setTimeout(() => {
                msgEl.classList.remove('show');
            }, 3000);
        }
        
        // Close modals when clicking outside
        window.addEventListener('click', function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.classList.remove('active');
            }
        });
        
        // Close modals with ESC key
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                document.querySelectorAll('.modal.active').forEach(modal => {
                    modal.classList.remove('active');
                });
            }
        });
    </script>
</body>
</html>